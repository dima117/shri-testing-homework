"const path = require('path');\nconst express = require('express');\n\n// controllers\nconst indexController = require('./controllers/indexController');\nconst filesController = require('./controllers/filesController');\n\nconst app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'hbs');\napp.set('view options', { layout: 'layout', extname: '.hbs' });\n\n// static files\napp.use(express.static(path.join(__dirname, 'public')));\n\n// pages\napp.get('/', indexController);\napp.get('/files/:hash/*?', filesController);\n\n// error handlers\napp.use(function(req, res, next) {\n  var err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  const { status = 500, message } = err;\n\n  // render the error page\n  res.status(status);\n  res.render('error', { title: 'error', status, message });\n});\n\napp.listen(3000);\n\nmodule.exports = app;\n"