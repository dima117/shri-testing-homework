# Домашнее задание: автотесты

Дано приложение на JavaScript и нужно написать для него автотесты: интеграционные тесты на интерфейс и модульные тесты на серверную часть.

## Предметная область

Приложение отображает в браузере информацию из git репозитория: список коммитов, файловую систему для выбранного коммита, содержимое выбранного файла (поддерживаются только текстовые форматы). Для удобства навигации на каждой странице отображаются "хлебные крошки".

## Как установить
```sh
git clone https://github.com/GyGaByyyTe/shri-testing-homework.git
cd shri-testing-homework
npm i
```
Запуск приложения-сервера: `npm run start`. Приложение будет доступно в браузере по адресу 

## Интеграционные тесты
### Запуск
1. В отдельном окне консоли запустить сервер: 
```sh
npm run start
```
2. В отдельном окне консоли запустить Selenium: 
```sh
selenium-standalone start
```
3. В основном окне консоли запустить один из видов тестов:
	- консольные интеграционные тесты: ```npm run test-console```
	- интеграционные тесты в браузерном режиме (включает в себя консольные): ```npm run test-gui```

### Сценарии для интеграционных тестов

- на всех страницах правильно отображается их содержимое (реализованы тестами через скриншоты):
	+ история коммитов, 
	+ просмотр файловой системы, 
	+ просмотр содержимого файла
- правильно работают переходы по страницам (реализованы консольными тестами)
  - из списка коммитов на список файлов
  - из списка файлов во вложенную папку
  - из списка файлов на страницу отдельного файла
  - переходы по хлебным крошкам

## Модульные тесты
### Запуск
В  окне консоли запустить выполнить команду
```sh
npm run test
```
### Список логических блоков системы и их сценариев:

1. Обработка страницы со списком из N объектов-коммитов
	+ Сформировать "хлебные крошки" текущей страницы
	+ Получить список коммитов
2. Обработка страницы с содержимым объекта-дерева
	+ Сформировать "хлебные крошки" текущей страницы
	+ Получить список содержимого объекта-дерева
		- Получен правильный `href` для ссылки на объект-дерево
		- Получен правильный `href` для ссылки на объект-файл
		- Получен правильный `href` по умолчанию, если объект не `tree` и не `blob`
3. Обработка страницы с содержимым объекта-файла 
	+ Сформировать "хлебные крошки" текущей страницы
	+ Оформить содержимое объекта-файла в виде текста
4. Методы-обертки для работы с Git
	+ Получить из строки данные коммита в виде объекта
	+ Получить историю коммитов в виде массива объектов
	+ Получить из строки информацию об объекте в дереве
	+ Получить содержимое tree-объекта в виде массива объектов
	+ Получить содержимое файла по его хэшу

### Особенности выполнения домашней работы
- Выполнен рефакторинг, чтобы реорганизовать логические блоки или добавить точки расширения
	+ Каждый контроллер реорганизован в класс, внутри конструктора которого определяются все точки расширения (возможностьпереопределения) внутренних методов.
	+ Утилитарные методы для работы с командами Git - также собраны в класс, и дополнены возможностью переопределения функций, используемых внутри методов класса.
