# Домашнее задание: автотесты

Вам дано приложение на JavaScript и нужно написать для него автотесты: интеграционные тесты на интерфейс и модульные тесты на серверную часть.

## Предметная область

Приложение отображает в браузере информацию из git репозитория: список коммитов, файловую систему для выбранного коммита, содержимое выбранного файла (поддерживаются только текстовые форматы). Для удобства навигации на каджой странице отображаются "хлебные крошки".

## Как запустить

```sh
git clone git@github.com:dima117/shri-testing-homework.git
cd shri-testing-homework.git
npm i
npm start
```

## Интеграционные тесты

Сценарии для интеграционных тестов

- на всех страницах (история коммитов, просмотр файловой системы, просмотр содержимого файла) правильно отображается их содержимое;
- правильно работают переходы по страницам
  - из списка коммитов на список файлов
  - из списка файлов во вложенную папку
  - из списка файлов на страницу отдельного файла
  - переходы по хлебным крошкам

## Модульные тесты

- нужно добавить в README список логических блоков системы и их сценариев
- для каждого блока нужно написать модульные тесты
- если необходимо, выполните рефакторинг, чтобы реорганизовать логические блоки или добавить точки расширения

## Логические блоки и их сценарии

- Создание хлебных крошек
  - Для всех страниц в хлебных крошках присутствует элемент, указывающий на главную страницу.
  - При нахождении на странице второго уровня, в хлебных крошках присутствует второй элемент, указывающий на это.
  - При нахождении на страницах выше второго уровня, в хлебные крошки добавляются элементы в соответствии с уровнем страницы.
  - Во всех случаях последний элемент хлебных крошек никуда не ссылается.

- Создание ссылок
  - Для папок создаются правильные ссылки.
  - Для файлов создаются правильные ссылки.

В сценариях создания ссылок отсутствует логика, а так же они покрыты интеграционным тестированием, поэтому для них нет необходимости писать модульные тесты.

- История коммитов
  - Количество возвращаемых элементов соответствует переданным параметрам.
  - История коммитов правильно разбирается перед возвращением.

- Файловая система коммита
  - Возвращается список файлов для определенного коммита.
  - При выборе папки из коммита, возвращается список файлов этой папки.
  - Файловая система коммита правильно разбирается перед возвращением.

- Содержимое файла из коммита
  - Возвращается содержимое файла.

В сценарии содержимого файла из коммита отсутствует логика, а так же он покрыт интеграционным тестом, поэтому для него нет необходимости писать модульный тест.

- Контроллер истории коммитов
  - Правильно подготавливается история коммитов перед отправкой в рендер.
  - В рендер прокидывается необходимый набор данных, состоящий из заголовка, хлебных крошек и списка истории коммитов.

- Контроллер файловой системы коммита
  - Правильно подготавливается файловая система коммита перед отправкой в рендер.
  - В рендер прокидывается необходимый набор данных, состоящий из заголовка, хлебных крошек и файловой системы коммита.

- Контроллер содержимого файла коммита
  - В рендер прокидывается необходимый набор данных, состоящий из заголовка, хлебных крошек и содержимого файла коммита коммита.

В контроллере содержимого файла нет необходимости проверки файла на тип, потому что данный контроллер вызывается только для файлов у которых тип равен blob.

## Запуск модульного тестирования

```
npm run unit-test
```

## Запуск интеграционного тестирования

```
selenium-standalone start
npm run dev
npm run integration-test
```
