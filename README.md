# Домашнее задание: автотесты

## Коментарии по заданию
### Интеграционные тесты
#### Запуск
```
$ npm i selenium-standalone -g
$ selenium-standalone install
$ npm run selenium // в отдельной вкладке терминала
$ npm run hermione
```
Выполнены с помощью hermione для браузеров chrome и firefox.
Находятся в папке /hermione.
Обновить скриншоты можно командой `npm run hermione-update`

В интеграционных тестах взаимодействие с элементами происходит по селектору data-smid, чтобы не завязываться на css-классы и не полагаться на html-структуру.

### Модульные тесты
#### Запуск
```
$ npm run test
```
Выполнены с помощью mocha и chai.
Находятся в папке /test.
Покрытие можно посмотреть командой `npm run coverage`

#### Логические блоки системы
- Модуль, выполняющий git-команды
- Навигация
- Модуль файловой структуры коммита

#### Сценарии модульных тестов
- GitUtils
  - Передаются корректные аргументы в executeGit при вызове
    - gitHistory
    - gitFileTree
    - gitFileContent
  - Полученные данные корректно обрабатываются
    - parseHistoryItem парсит конкретный коммит
    - parseFileTreeItem парсит файлы конкретного коммита

- Модуль навигации
  - Создается корректная ссылка
    - к коммиту, если path не задан
    - к папке, если path задан
  - Создается корректная ссылка до файла
  - Создается объект для хлебных крошек
    - только страница истории, если нет аргументов
    - страница истории и ROOT, если есть hash
    - путь к файлу, если заданы все параметры
    - путь к файлу в папке, если path сложный

- Модуль файловой структуры коммита
  - Для рендера подготавливаются данные
    - addParamsToFile: добавляет href и name к файлу
    - addParamsToHistoryItem: добавляет href к элементу истории

## Выполненный рефакторинг
- Все функции для работы с git были вынесены в класс GitUtils, чтобы можно было мокать функцию executeGit
- в модуле indexController анонимная функция, добавляющая `href` для каждого элемента истории была заменена на именованную функцию addParamsToHistoryItem для удобства тестирования
- в модуле filesController анонимная функция, добавляющая `href` и `name` для каждого файла была заменена на именованную функцию addParamsToFile для удобства тестирования
- Для интеграционных тестов были добавлены аттрибуты data-smid для удобного взаимодействия с dom-элементами


# Задание

Вам дано приложение на JavaScript и нужно написать для него автотесты: интеграционные тесты на интерфейс и модульные тесты на серверную часть.

## Предметная область

Приложение отображает в браузере информацию из git репозитория: список коммитов, файловую систему для выбранного коммита, содержимое выбранного файла (поддерживаются только текстовые форматы). Для удобства навигации на каджой странице отображаются "хлебные крошки".

## Как запустить

```sh
git clone git@github.com:dima117/shri-testing-homework.git
cd shri-testing-homework.git
npm i
npm start
```

## Интеграционные тесты

Сценарии для интеграционных тестов

- на всех страницах (история коммитов, просмотр файловой системы, просмотр содержимого файла) правильно отображается их содержимое;
- правильно работают переходы по страницам
  - из списка коммитов на список файлов
  - из списка файлов во вложенную папку
  - из списка файлов на страницу отдельного файла
  - переходы по хлебным крошкам

## Модульные тесты

- нужно добавить в README список логических блоков системы и их сценариев
- для каждого блока нужно написать модульные тесты
- если необходимо, выполните рефакторинг, чтобы реорганизовать логические блоки или добавить точки расширения
