# Домашнее задание: автотесты

Вам дано приложение на JavaScript и нужно написать для него автотесты: интеграционные тесты на интерфейс и модульные тесты на серверную часть.

## Предметная область

Приложение отображает в браузере информацию из git репозитория: список коммитов, файловую систему для выбранного коммита, содержимое выбранного файла (поддерживаются только текстовые форматы). Для удобства навигации на каджой странице отображаются "хлебные крошки".

## Как запустить

```
  Для того, чтобы данные в тестах были постоянными, я использую отдельный репозиторий как данные для этого приложения
```

```sh
git clone git@github.com:dima117/shri-testing-homework.git
cd shri-testing-homework.git
git clone https://github.com/devsnice/shri2018-repository-for-tests testrepo
npm i
npm start
```

## Интеграционные тесты

Сценарии для интеграционных тестов

- на всех страницах (история коммитов, просмотр файловой системы, просмотр содержимого файла) правильно отображается их содержимое; ✅
- правильно работают переходы по страницам ✅
  - из списка коммитов на список файлов
  - из списка файлов во вложенную папку
  - из списка файлов на страницу отдельного файла
  - переходы по хлебным крошкам

## Модульные тесты

- нужно добавить в README список логических блоков системы и их сценариев
- для каждого блока нужно написать модульные тесты
- если необходимо, выполните рефакторинг, чтобы реорганизовать логические блоки или добавить точки расширения

## Сценарии

Список логических блоков

- **Утилиты**

  - Git ✅

    - getHistory
      - корректно работает с формированием параметров для гита для разных страниц
    - getFileTree
      - shell команда формируется правильно, когда передан path
      - shell команда формируется правильно, когда path не был передан
    - getFileContent
      - корректно формирует параметры для гита

  - Navigation ✅

    - buildFolderUrl,
      - возвращает правильный путь к папке
      - возвращает путь к родительской папке, если не указано название папки
    - buildFileUrl,
      - возвращает правильный путь к файлу
    - buildBreadcrumbs
      - формирует крошки для вверхнего уровня без ссылки
      - формирует крошки для любой вложенности, последний элемент без ссылки

  - Helpers ✅

    - getOffset
      - правильно считает оффсет для любой страницы
    - parseHistoryItem
      - правильно преобразовывает строку с описанием коммита в объект
    - parseFileTreeItem
      - правильно преобразовывает строку с описанием файла в объект

* **Контроллеры**

  - ContentController ✅

    - возвращает правильную данные для рендеринга страницы
    - не возвращает результат, если файл не в формате blob
    - передаёт ошибку в следующую миддлвару, если в контроллере произошла ошибка

  - FilesController ✅

    - возвращает правильный список файлов для папки
    - возвращает ошибку

  - IndexController ✅
    - возвращает правильные данные для рендеринга страницы, когда нет контента
    - возвращает правильные данные для рендеринга страницы, когда есть контент
    - возвращает ошибку, если истории нет
